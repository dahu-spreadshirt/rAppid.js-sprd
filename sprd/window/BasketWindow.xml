<window:BasketWindowClass xmlns="http://www.w3.org/1999/xhtml"
                          xmlns:ui="js.ui" xmlns:js="js.core" xmlns:sprdView="sprd.view" xmlns:window="sprd.window"
                          name="basket-window">
    <div class="basket-items-wrapper">
        <ui:ItemsView items="{basketItems}" tagName="ul" class="basket-items">
            <js:Template name="item">
                <li>
                    <div class="basket-item-wrapper product-{item.element.getProduct().id}">
                        <sprdView:ProductImage class="composition"
                                               product="{item.element.getProduct()}"
                                               appearance="{item.element.appearance}"
                                               width="75" height="75"
                                               onclick="openBasketItemHandler(event,item)"/>
                        <div class="basket-item-info appearance-{item.appearance.id}">
                            <div class="basket-item-product-type">
                                <p class="name">{item.element.getProduct().productType.name}</p>
                                <p class="brand">{basketItemInfo(item)}</p>
                            </div>
                            <div class="basket-item-size">
                                <select items="{item.element.getProduct().productType.getAvailableSizesForAppearance(item.element.appearance)}"
                                        selectedItem="{{item.element.size}}" class="input-small dropdown-toggle btn" itemKey="size"
                                        keyPath="id"
                                        needsSelection="false"
                                        onchange="onSizeChange">
                                    <js:Template name="item">
                                        <option value="${size.id}">${size.name}</option>
                                    </js:Template>
                                </select>
                            </div>
                            <div class="basket-item-quantity">
                                <a class="basket-item-remove round-action btn" onclick="removeBasketItem(item)" visible="{eql(item.quantity,1)}"/>
                                <a class="round-action removeArticle btn" onclick="decreaseQuantity" visible="{gt(item.quantity,1)}"/>
                                <input type="number" value="{item.quantity}" class="input-mini quantity-input"
                                       onchange="onQuantityChange"/>
                                <a class="round-action addArticle btn" onclick="increaseQuantity"/>
                            </div>
                            <div class="basket-item-price">
                                {context.currency.formatValue(item.totalVatIncluded())}
                            </div>

                        </div>
                    </div>

                </li>
            </js:Template>
        </ui:ItemsView>
        <div class="basket-summary">
            <div class="basket-discount" visible="{basket.discountVatIncluded()}">
                ${i18n.t('basket.volumeDiscount')}:
                <span class="basket-discount-value">
                    {context.currency.formatValue(basket.discountVatIncluded())}
                </span>
            </div>
        </div>
    </div>

    <div class="basket-footer">
        <a onclick="close" class="btn left continue-shopping">
            <span>${i18n.t('basket.continueShopping')}</span>
        </a>
        <div class="price-container">
            <p class="price">{context.currency.formatValue(basket.totalVatIncluded())}</p>
            <ul class="price-infos">
                <li class="vat" visible="{showVat()}">
                    <a onclick="showVatInfo">{i18n.t('basket.vatIncluded')}</a>
                </li>
                <li class="shipping-costs">
                    <a onclick="showShippingInfo">{i18n.t('basket.shippingCosts')}</a>
                </li>
            </ul>
        </div>
        <a onclick="checkout" class="btn-success btn prio go-to-checkout" enabled="{checkoutEnabled()}">
            <i/>
            <span>${i18n.t('basket.checkout')}</span>
        </a>
    </div>

</window:BasketWindowClass>