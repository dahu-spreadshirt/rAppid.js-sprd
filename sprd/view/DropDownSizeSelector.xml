<ui:MenuButton xmlns:js="js.core" xmlns:ui="js.ui" xmlns="http://www.w3.org/1999/xhtml" type="{btnType()}">

    <js:Script><![CDATA[
        (function () {
            return {
                defaults: {
                    sizes: null
                },
                $classAttributes: ['sizes','selectedSize'],

                $defaultContentName: null,
                _commitChangedAttributes: function(attributes){
                    var sizes = attributes.sizes;
                    if(sizes && sizes.length === 1){
                        this.set('selectedSize',sizes.at(0));
                    }
                    this.callBase();
                },
                closeMenu: function(){
                    this.set('menuVisible', false);
                },
                btnType: function(){
                    if(this.$.selectedSize){
                        return 'info';
                    }
                    return null;
                }.onChange('selectedSize')
            }
        })
        ]]>
    </js:Script>
    <js:Content name="menu">
        <ui:SelectionView items="{sizes}" tagName="ul"
                          selectedItem="{{selectedSize}}"
                          needsSelection="{hasSelection()}" onclick="closeMenu">
            <js:Template name="item">
                <li>
                    <a>${$item.name}</a>
                </li>
            </js:Template>
        </ui:SelectionView>
    </js:Content>
</ui:MenuButton>