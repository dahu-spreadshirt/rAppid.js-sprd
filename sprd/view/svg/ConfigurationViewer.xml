<sprdSvg:ConfigurationViewerClass xmlns="http://www.w3.org/1999/xhtml"
                                  xmlns:svg="js.svg"
                                  xmlns:sprdSvg="sprd.view.svg" class="{errorClass()}"
                                  xmlns:js="js.core" xmlns:ui="js.ui"
                                  cid="cv">

    <svg:circle class="rotation-circle" cx="{cv.rotationX}" cy="{cv.rotationY}" r="{_rotationRadius}"
                visible="{isRotating()}"/>

    <svg:line class="rotation-line" x1="{minus(enlarge(_configurationWidth))}" x2="{enlarge(_configurationWidth)}" y1="{minus(enlarge(_configurationHeight))}" y2="{enlarge(_configurationHeight)}"
              visible="{isScaling()}"/>

    <svg:clipPath cid="clipPath" id="{id()}" clip-rule="evenodd"
                  translateX="{invert(cv.translateX)}" translateY="{invert(cv.translateY)}"
                  rotation="{invert(cv.rotation)}" rotationX="{cv.rotationX}" rotationY="{cv.rotationY}">
    </svg:clipPath>

    <svg:g cid="_assetContainerWrapper">
        <svg:g class="asset-container" cid="_assetContainer" scaleX="{_scale.x}" scaleY="{_scale.y}" />
    </svg:g>

    <svg:circle class="rotation-center" cx="{cv.rotationX}" cy="{cv.rotationY}" r="{pixelToViewBox(2)}"
                visible="{isRotating()}"/>

    <ui:ItemsView cid="snapPoints" items="{snapPoints}" itemKey="point" tagName="g" namespace="http://www.w3.org/2000/svg" class="snap-lines">
        <js:Template name="item">
            <svg:circle class="rotation-center" cx="{point.x}" cy="{point.y}" r="2"/>
        </js:Template>
    </ui:ItemsView>

    <ui:ItemsView cid="snapSides" items="{snapSides}" itemKey="side" tagName="g" namespace="http://www.w3.org/2000/svg" class="snap-lines">
        <js:Template name="item">
            <svg:line class="snap-line" x1="{side.x1}" x2="{side.x2}" y1="{side.y1}" y2="{side.y2}"/>
        </js:Template>
    </ui:ItemsView>

    <svg:g translateX="{flipOffsetX()}" translateY="{flipOffsetY()}">
        <svg:rect class="configuration-boundary"
                  selected="{isSelectedConfigurationOrConfigurationHasError()}"
                  x="0" y="0"
                  width="{_configurationWidth}" height="{_configurationHeight}"/>

        <svg:g class="configuration-info" visible="{and(_configurationInfo, productViewer.$parent.showConfigurationInformation)}"
        _fontSize="{pixelToViewBox(15)}" translateY="-{pixelToViewBox(20)}">
            <svg:text visible="{isScaling()}" font-size="{_fontSize}" x="{half(_configurationWidth)}" text-anchor="middle">
                {getLocalizedSize(_configurationWidth,0)} x
                {getLocalizedSize(_configurationHeight,0)}
            </svg:text>
            <svg:text visible="{isRotating()}" font-size="{_fontSize}" dy="1.4em" x="{half(_configurationWidth)}" text-anchor="middle">
                {formatSize(_rotation)} Â°
            </svg:text>
            <svg:text visible="{isMoving()}" font-size="{_fontSize}" x="{half(_configurationWidth)}" text-anchor="middle">
                X: {getLocalizedSize(_offset.x,0)} ,
                Y: {getLocalizedSize(_offset.y,0)}
            </svg:text>
        </svg:g>

        <svg:rect cid="_scaleHandle" class="configuration-handle scale"
                  selected="{isScalable()}"
                  x="{substract(_configurationWidth,pixelToViewBox(_handleOffset))}"
                  y="{substract(_configurationHeight,pixelToViewBox(_handleOffset))}"
                  width="{pixelToViewBox(_handleWidth)}" height="{pixelToViewBox(_handleWidth)}"/>


        <svg:g selected="{isScalable()}" class="configuration-handle-icon scale"
               scaleX="{pixelToViewBox(_handleIconScale)}" scaleY="{scaleX}"
               translateX="{substract(_configurationWidth,pixelToViewBox(_handleOffset))}"
               translateY="{substract(_configurationHeight,pixelToViewBox(_handleOffset))}"
               style="pointer-events: none">
            <svg:g _transform="scale(-0.15,0.15) translate(-115,-5)">
                <svg:path
                        _transform="matrix(0.8,0,0,-0.8,0,217)"
                        d="M 34.90625 151.15625 L 34.90625 186.53125 L 47.1875 174.25 L 106.8125 233.84375 L 94.4375 246.21875 L 129.78125 246.21875 L 129.78125 210.875 L 117.40625 223.25 L 57.8125 163.625 L 70.28125 151.15625 L 34.90625 151.15625 z"
                        style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:none"/>
            </svg:g>
        </svg:g>


    </svg:g>


</sprdSvg:ConfigurationViewerClass>